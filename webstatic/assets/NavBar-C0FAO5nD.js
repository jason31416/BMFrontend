import{a as v,_ as c}from"./const-ClyfiBNT.js";import{_ as f,r as u,o as p,k as n,c as r,b as i,f as s,F as k,d as h,g,t as m,s as b}from"./index-TIiU0LZt.js";const x="/favicon.jpg",N={class:"navbar"},B={class:"nav-content"},y={class:"nav-links"},w=["href"],M={class:"username"},V=["href"],C={key:0},F={__name:"NavBar",setup(L){const _=[{name:"主页",url:"/"},{name:"网页聊天",url:"/chat"},{name:"数据统计",url:"/plan"},{name:"养老地图",url:"/map/survival-1/"}],l=u("登录/注册"),t=u("/auth/login");p(()=>{n.isKey("bmsessiontoken")&&v.post(c.backendurl+"/api/verify",{token:n.get("bmsessiontoken")}).then(a=>{a.data.success==!0?(l.value=a.data.username,t.value="/user/"+a.data.username,c.username.value=a.data.username):n.remove("bmsessiontoken")})});function d(){n.remove("bmsessiontoken"),window.location.href="/auth/login"}return(a,e)=>(i(),r("nav",N,[s("div",B,[e[2]||(e[2]=s("div",{class:"brand"},[s("img",{src:x,alt:"BlockMax Logo",class:"logo"}),s("h1",{class:"title"},"BlockMax Network")],-1)),s("div",y,[(i(),r(k,null,h(_,o=>s("a",{key:o.name,href:o.url,class:"nav-link"},m(o.name),9,w)),64)),s("span",M,[s("a",{href:t.value},m(l.value),9,V),t.value!=="/auth/login"?(i(),r("span",C,[e[1]||(e[1]=b(" | ")),s("a",{onClick:e[0]||(e[0]=o=>d())}," 退出登录 ")])):g("",!0)])])])]))}},D=f(F,[["__scopeId","data-v-3f63546c"]]);export{D as N};
